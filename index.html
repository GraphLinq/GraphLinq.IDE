<html>
    <head>
        <title>GraphLinq | IDE</title>
        <script defer src="./node_modules/@fortawesome/fontawesome-free/js/brands.js"></script>
        <script defer src="./node_modules/@fortawesome/fontawesome-free/js/solid.js"></script>
        <script defer src="./node_modules/@fortawesome/fontawesome-free/js/fontawesome.js"></script>
        <script defer src="./node_modules/toastr/toastr.js"></script>
        <script defer src="./js/shared/node_help.js"></script>

        <link rel="stylesheet" href="./scss/index.scss">
        <link rel="stylesheet" href="./node_modules/toastr/toastr.scss">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="favicon.png" />
    </head>
    <body>
        <!-- menu -->
        <div id="menu">
            <div class="logo"></div>

            <div class="menu-item">
                <i class="fas fa-file"></i> File
                <div class="sub-menu">
                    <div class="sub-menu-item" data-app-menu="file.new">
                        <i class="fas fa-file"></i> New graph (CTRL+,)
                    </div>
                    <div class="sub-menu-item" data-app-menu="file.load">
                        <input type="file" id="file-input" style="display: none;" />
                        <i class="fas fa-file-upload"></i> Load graph (CTRL+O)
                    </div>
                    <div class="sub-menu-item" data-app-menu="file.save">
                        <i class="fas fa-file-download"></i> Save graph (CTRL+S)
                    </div>
                    <div class="sub-menu-item" data-app-menu="file.export">
                        <i class="fas fa-file-download"></i> Export as file
                    </div>
                    <div class="sub-menu-item" data-app-menu="file.export_human_schema">
                        <i class="fas fa-file-download"></i> Export H.Schema
                    </div>
                    <div class="sub-menu-item" data-app-menu="file.export_js">
                        <i class="fas fa-scroll"></i> Export javascript
                    </div>
                    <!--
                    <div class="sub-menu-item" data-app-menu="file.export_image">
                        <i class="fas fa-images"></i> Export as image
                    </div>
                    -->
                </div>
            </div>
            <div class="menu-item">
                <i class="fas fa-terminal"></i> Execution
                <div class="sub-menu">
                    <div class="sub-menu-item" data-app-menu="execution.launch">
                        <i class="fas fa-play"></i> Launch (CTRL+E)
                    </div>
                </div>
            </div>
            <div class="menu-item" onclick="javascript: window.open('https://app.graphlinq.io')">
                <i class="fas fa-columns"></i> Dashboard
            </div>
            <div class="menu-item" onclick="javascript: window.open('https://analytics.graphlinq.io')">
                <i class="fas fa-chart-area"></i> Analytics
            </div>
            <div class="menu-item" onclick="javascript: window.open('https://docs.graphlinq.io')">
                <i class="fas fa-book"></i> Documentation
            </div>
            <div class="menu-item" onclick="javascript: window.open('https://t.me/graphlinq')">
                <i class="fas fa-question-circle"></i> Help
            </div>

            <div class="right-container">
                <div class="menu-item" data-app-menu="login">
                    <i class="fas fa-sign-in-alt"></i> Connect to wallet
                </div>

                <div class="menu-item" data-app-menu="logged.as" style="display: none;">
                    <i class="fas fa-wallet"></i>
                    <span></span>
                </div>
            </div>
        </div>

        <div id="toolbox">
            <div id="project-manager">
                <div class="title">
                    <i class="fas fa-cube"></i> Projects
                </div>
                <div class="projects-container">

                </div>
            </div>

            <div id="search-manager">
                <div class="title">
                    <i class="fas fa-search"></i> Search
                </div>
                <div class="searchbox">
                    <input type="text" id="toolbar-search-input" placeholder="Search a block by name"  autocomplete="off" />
                </div>
            </div>
            
            <div id="node-manager">
                <div class="title">
                    <i class="fas fa-cubes"></i> Blocks
                </div>
                <div class="group-container">
    
                </div>
            </div>
        </div>

        <div id="toolbar">
            <div class="toolbar-input graph-name">
                <input type="text" placeholder="Graph name.." spellcheck="false" />
            </div>
            <center>
                <div class="toolbar-btn" data-app-menu="graph.add_comment">
                    <i class="fas fa-comment"></i>
                </div>
            </center>
        </div>

        <!-- graph-container -->
        <div id="graph-container">
            <div class="inner-container">
            </div>

            <div id="linker-block" class="disable">
                <div class="btn red btn-cancel">
                    <i class="fas fa-ban"></i> Cancel
                </div>
            </div>
        </div>

        <!-- template-page -->
        <div id="template-page">
            <div class="overlay"></div>
            <div class="page">
                <div class="exit-btn" data-action="close-template-page">
                    <div class="icon"><i class="fas fa-arrow-left"></i></div> Return to IDE
                </div>

                <div class="container">
                    
                </div>
            </div>
        </div>
        
        <!-- sub-graph-tab-container -->
        <div id="sub-graph-tab-container">
            <div class="sub-graph-tab"><i class="fas fa-project-diagram"></i> Main Graph</div>
        </div>

        <div id="subgraph-toolbox">
            <div id="template-open-btn" class="btn">
                <i class="fas fa-book"></i>
                <span>Templates</span>
            </div>

            <!--
            <div id="dependencies-open-btn" class="btn">
                <i class="fas fa-link"></i>
                <span>Dependencies</span>
            </div>
            -->
            
            <div id="ai-prompt">
                <div id="ai-thinking-loading" class="bouncing-dots">
                    <div class="dot" id="dot1"></div>
                    <div class="dot" id="dot2"></div>
                    <div class="dot" id="dot3"></div>
                </div>
                <div class="load"></div>
                <i class="fas fa-robot"></i>
                <input type="text" placeholder="<Ask to the Graphlinq AI to create a graph for you>" />
            </div>
        </div>

        <!-- console -->
        <div id="console">
            <!--
            <div class="header">
                <i class="fas fa-terminal"></i> Terminal
            </div>
            -->
            <div style="display: flex; height: 100%; gap: 20px;">
                <div class="console-entry-scroll" style="flex: 1; overflow: auto; height: 100%;">
                    <div class="title">
                        <i class="fas fa-terminal"></i> Terminal
                    </div>
                    <div class="console-entry-container">

                    </div>
                </div>
                <div class="logs-entry-scroll" style="flex: 1; overflow: auto; height: 100%;">
                    <div class="title">
                        <i class="fas fa-download"></i> Execution Logs
                    </div>
                    <div class="logs-entry-container">

                    </div>
                    <div id="minimap">
                        <canvas width="250" height="140"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- template-list -->
        <div id="template-list">
            <div class="overlay"></div>
            <div class="container">
                <div class="template-list">
                    <div class="template-item">
                        <img class="logo" src="./assets/logo-single.png" />
                    </div>
                </div>
            </div>
        </div>

        <!-- Node Help & Intro -->
        <div id="popup" class="popup-wrapper hide">
            <div id="popup-content" class="popup-content">
                <div id="popup-title" class="popup-title">
                    <button type="button" class="popup-close">&times;</button>
                    <h3 id="popup-header"></h3>
                </div>
                <div id="popup-body" class="popup-body"></div>
            </div>
        </div>

        <script src="js/app.js"></script>
    </body>
</html>